{"ast":null,"code":"var _jsxFileName = \"D:\\\\xuzheng\\\\web\\u5F00\\u53D1\\\\my-cnode\\\\src\\\\file\\\\Topic.js\";\nimport React, { Component } from 'react';\nimport { HashRouter as Router, Link } from 'react-router-dom';\nexport default class Topic extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      data: [],\n      props: props\n    };\n  }\n\n  componentDidMount() {\n    let types = this.state.props.location.pathname.split('/')[2];\n    let page = this.props.match.params.page;\n    console.log(this.props.match.params.types);\n    fetch('https://cnodejs.org/api/v1/topics?tab=' + types + '&page=' + page).then(res => res.json()).then(res => {\n      this.setState({\n        data: res.data\n      });\n    });\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    if (prevProps.match.params.page !== this.props.match.params.page) {\n      let page = this.props.match.params.page;\n      let types = this.state.props.location.pathname.split('/')[2];\n      fetch('https://cnodejs.org/api/v1/topics?tab=' + types + '&page=' + page).then(res => res.json()).then(res => {\n        this.setState({\n          data: res.data\n        });\n      });\n    }\n\n    ;\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 39\n      },\n      __self: this\n    }, this.state.data.map((item, idx) => React.createElement(\"div\", {\n      style: {\n        width: 800,\n        overflow: 'left'\n      },\n      key: idx,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 42\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"topic-div\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 43\n      },\n      __self: this\n    }, React.createElement(\"img\", {\n      src: item.author.avatar_url,\n      alt: \"\\u5934\\u50CF\",\n      className: \"topic-img1\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 44\n      },\n      __self: this\n    }), React.createElement(\"p\", {\n      className: \"topic-p topic-p0\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 45\n      },\n      __self: this\n    }, item.reply_count, \"/\"), React.createElement(\"p\", {\n      className: \"topic-p topic-p1\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 46\n      },\n      __self: this\n    }, item.visit_count), React.createElement(Router, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 47\n      },\n      __self: this\n    }, React.createElement(Link, {\n      className: \"topic-p topic-p2\",\n      dangerouslySetInnerHTML: {\n        __html: item.title\n      },\n      to: \"/\".concat(this.state.props.location.pathname.split('/')[2], \"/details/\").concat(this.props.match.params.page, \"/\").concat(idx),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 47\n      },\n      __self: this\n    })), React.createElement(\"p\", {\n      className: \"topic-p topic-p3\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 48\n      },\n      __self: this\n    }, \"3\\u5C0F\\u65F6\\u524D\"), React.createElement(\"img\", {\n      className: \"topic-img2\",\n      src: item.author.avatar_url,\n      alt: \"\\u5934\\u50CF\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 49\n      },\n      __self: this\n    })))));\n  }\n\n}","map":{"version":3,"sources":["D:/xuzheng/web开发/my-cnode/src/file/Topic.js"],"names":["React","Component","HashRouter","Router","Link","Topic","constructor","props","state","data","componentDidMount","types","location","pathname","split","page","match","params","console","log","fetch","then","res","json","setState","componentDidUpdate","prevProps","prevState","render","map","item","idx","width","overflow","author","avatar_url","reply_count","visit_count","__html","title"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\r\nimport {HashRouter as Router,Link} from 'react-router-dom'\r\n\r\nexport default class Topic extends Component {\r\n    constructor(props){\r\n        super(props);\r\n        this.state={\r\n            data:[],\r\n            props:props\r\n        }\r\n    }\r\n    componentDidMount() {\r\n        let types=this.state.props.location.pathname.split('/')[2];\r\n        let page = this.props.match.params.page;\r\n        console.log(this.props.match.params.types);\r\n        fetch('https://cnodejs.org/api/v1/topics?tab='+types+'&page='+page)\r\n        .then((res)=>res.json())\r\n        .then((res)=>{\r\n            this.setState({\r\n                data:res.data\r\n            })\r\n        });\r\n    }\r\n    componentDidUpdate(prevProps,prevState) {\r\n        if(prevProps.match.params.page!==this.props.match.params.page){\r\n            let page = this.props.match.params.page;\r\n            let types=this.state.props.location.pathname.split('/')[2];\r\n            fetch('https://cnodejs.org/api/v1/topics?tab='+types+'&page='+page)\r\n            .then((res)=>res.json())\r\n            .then((res)=>{\r\n                this.setState({\r\n                    data:res.data\r\n                })\r\n            });\r\n        };\r\n    }\r\n    render() {\r\n        return (\r\n            <div>\r\n                {\r\n                    this.state.data.map((item,idx)=>(\r\n                        <div style={{width:800,overflow:'left'}} key={idx}>\r\n                            <div className=\"topic-div\">\r\n                                <img src = {item.author.avatar_url} alt=\"头像\"  className=\"topic-img1\"/>\r\n                                <p className=\"topic-p topic-p0\">{item.reply_count}/</p>\r\n                                <p className=\"topic-p topic-p1\">{item.visit_count}</p>\r\n                                <Router><Link className=\"topic-p topic-p2\" dangerouslySetInnerHTML={{__html:item.title}} to={`/${this.state.props.location.pathname.split('/')[2]}/details/${this.props.match.params.page}/${idx}`}></Link></Router>\r\n                                <p className=\"topic-p topic-p3\">3小时前</p>\r\n                                <img className=\"topic-img2\" src = {item.author.avatar_url} alt=\"头像\"/>\r\n                            </div>\r\n                        </div>\r\n                    ))\r\n                }\r\n            </div>\r\n        )\r\n    }\r\n}"]},"metadata":{},"sourceType":"module"}